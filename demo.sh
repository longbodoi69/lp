#!/system/bin/sh
dev="LongPhan"
refresh_rate=$(dumpsys SurfaceFlinger | grep -m 1 "refresh-rate" | awk '{printf("%d", $3)}')
ram_info=$(cat /proc/meminfo | grep -E "MemTotal|MemAvailable" | \
awk 'NR==1{total=$2} NR==2{available=$2} END{printf "%.2f / %.2f GB", available/1024/1024, total/1024/1024}')
storage=$(df /data | awk 'NR==2 { total=($2+$3)/1024/1024; used=$3/1024/1024; printf "%.2f / %.0f GB", used, total }')
ping=$(ping -c 1 8.8.8.8 | grep 'time=' | awk -F'time=' '{print $2}' | cut -d' ' -f1)
cores=$(grep -c ^processor /proc/cpuinfo)
brand=$(getprop ro.product.brand)
android=$(getprop ro.build.version.release)
bit=$(uname -m)

echo "┌────────────────────────────────────────┐"
echo "│     ⚙️ ANDROID OPTIMIZER LITE v1.0     │"
echo "├────────────────────────────────────────┤"
printf "│ 🕶️ Dev      : %-27s│\n" "$dev"
printf "│ 📦 Module   : %-27s│\n" "Demo Booster"
printf "│ 🔋 Status   : %-27s│\n" "No Root"
printf "│ 📱 Brand    : %-27s│\n" "$brand"
printf "│ 💿 Android  : %-27s│\n" "$android"
printf "│ 🔧 BitCheck : %-27s│\n" "$bit"
echo "├────────────────────────────────────────┤"
echo "│ [ SPEED TOUCH ]     [ CLEAN CACHE ]      │"
echo "│ [ GPU BOOST ]     [ BUILD LOGS ]  │"
echo "├────────────────────────────────────────┤"
printf "│ 📊 CPU      : %-27s│\n" "$cores cores"
printf "│ 🧠 RAM      : %-27s│\n" "$ram_info"
printf "│ 💾 Storage  : %-27s│\n" "$storage"
printf "│ 🌐 Network  : %-27s│\n" "$ping ms"
printf "│ ⚡ Screen   : %-27s│\n" "$refresh_rate Hz"
echo "└────────────────────────────────────────┘"

apply_fps() {
    local name="debug.hwui.fps_divisor"
    local value="1"
    setprop "$name" "$value"
}> /dev/null 2>&1
tweaks() {
    disable_log=(
        "log.tag.AF::MmapTrack V"
        "log.tag.AF::OutputTrack V"
        "log.tag.AF::PatchRecord V"
        "log.tag.AF::PatchTrack V"
        "log.tag.AF::RecordHandle V"
        "log.tag.AF::RecordTrack V"
        "log.tag.AF::Track V"
        "log.tag.AF::TrackBase V"
        "log.tag.AF::TrackHandle V"
        "log.tag.APM-KpiMonitor V"
        "log.tag.APM-ServiceJ V"
        "log.tag.APM-SessionJ V"
        "log.tag.APM-SessionN V"
        "log.tag.APM-Subscriber V"
        "log.tag.APM::AudioCollections V"
        "log.tag.APM::AudioInputDescriptor V"
        "log.tag.APM::AudioOutputDescriptor V"
        "log.tag.APM::AudioPatch V"
        "log.tag.APM::AudioPolicyEngine V"
        "log.tag.APM::AudioPolicyEngine::Base V"
        "log.tag.APM::AudioPolicyEngine::Config V"
        "log.tag.APM::AudioPolicyEngine::ProductStrategy V"
        "log.tag.APM::AudioPolicyEngine::VolumeGroup V"
        "log.tag.APM::Devices V"
        "log.tag.APM::IOProfile V"
        "log.tag.APM::Serializer V"
        "log.tag.APM::VolumeCurve V"
        "log.tag.APM_AudioPolicyManager V"
        "log.tag.APM_ClientDescriptor V"
        "log.tag.AT V"
        "log.tag.AccountManager V"
        "log.tag.ActivityManager V"
        "log.tag.ActivityManagerService V"
        "log.tag.ActivityTaskManager V"
        "log.tag.ActivityTaskManagerService V"
        "log.tag.AdnRecord V"
        "log.tag.AdnRecordCache V"
        "log.tag.AdnRecordLoader V"
        "log.tag.AirplaneHandler V"
        "log.tag.AlarmManager V"
        "log.tag.AlarmManagerService V"
        "log.tag.AndroidRuntime V"
        "log.tag.AppOps V"
        "log.tag.AudioAttributes V"
        "log.tag.AudioEffect V"
        "log.tag.AudioFlinger V"
        "log.tag.AudioFlinger::DeviceEffectProxy V"
        "log.tag.AudioFlinger::DeviceEffectProxy::ProxyCallback V"
        "log.tag.AudioFlinger::EffectBase V"
        "log.tag.AudioFlinger::EffectChain V"
        "log.tag.AudioFlinger::EffectHandle V"
        "log.tag.AudioFlinger::EffectModule V"
        "log.tag.AudioFlinger_Threads V"
        "log.tag.AudioHwDevice V"
        "log.tag.AudioManager V"
        "log.tag.AudioPolicy V"
        "log.tag.AudioPolicyEffects V"
        "log.tag.AudioPolicyIntefaceImpl V"
        "log.tag.AudioPolicyManager V"
        "log.tag.AudioPolicyService V"
        "log.tag.AudioProductStrategy V"
        "log.tag.AudioRecord V"
        "log.tag.AudioService V"
        "log.tag.AudioSystem V"
        "log.tag.AudioTrack V"
        "log.tag.AudioTrackShared V"
        "log.tag.AudioVolumeGroup V"
        "log.tag.BackupManager V"
        "log.tag.BatteryManager V"
        "log.tag.BatteryStatsService V"
        "log.tag.BluetoothAdapter V"
        "log.tag.BluetoothDevice V"
        "log.tag.BluetoothGattService V"
        "log.tag.BluetoothHidService V"
        "log.tag.BluetoothManager V"
        "log.tag.BluetoothMapService V"
        "log.tag.BluetoothPanService V"
        "log.tag.BluetoothPbapService V"
        "log.tag.BluetoothSapService V"
        "log.tag.BluetoothService V"
        "log.tag.BluetoothSocket V"
        "log.tag.BufferQueueDump V"
        "log.tag.BufferQueueProducer V"
        "log.tag.C2K_AT V"
        "log.tag.C2K_ATConfig V"
        "log.tag.C2K_RILC V"
        "log.tag.CAM2PORT_ V"
        "log.tag.CapaSwitch V"
        "log.tag.CarrierExpressServiceImpl V"
        "log.tag.CarrierExpressServiceImplExt V"
        "log.tag.ClipboardManager V"
        "log.tag.ConnectivityManager V"
        "log.tag.ConnectivityService V"
        "log.tag.ConsumerIrService V"
        "log.tag.ContentManager V"
        "log.tag.CountryDetector V"
        "log.tag.DMC-ApmService V"
        "log.tag.DMC-Core V"
        "log.tag.DMC-DmcService V"
        "log.tag.DMC-EventsSubscriber V"
        "log.tag.DMC-ReqQManager V"
        "log.tag.DMC-SessionManager V"
        "log.tag.DMC-TranslatorLoader V"
        "log.tag.DMC-TranslatorUtils V"
        "log.tag.DSSelector V"
        "log.tag.DSSelectorOP01 V"
        "log.tag.DSSelectorOP02 V"
        "log.tag.DSSelectorOP09 V"
        "log.tag.DSSelectorOP18 V"
        "log.tag.DSSelectorOm V"
        "log.tag.DSSelectorUtil V"
        "log.tag.DataDispatcher V"
        "log.tag.DeviceIdleController V"
        "log.tag.DevicePolicyManager V"
        "log.tag.DevicePolicyManagerService V"
        "log.tag.DisplayManager V"
        "log.tag.DisplayManagerService V"
        "log.tag.DockObserver V"
        "log.tag.DownloadManager V"
        "log.tag.ExternalSimMgr V"
        "log.tag.FastCapture V"
        "log.tag.FastMixer V"
        "log.tag.FastMixerState V"
        "log.tag.FastThread V"
        "log.tag.FragmentManager V"
        "log.tag.FuseDaemon V"
        "log.tag.GAv4 V"
        "log.tag.GraphicsStats V"
        "log.tag.GsmCallTkrHlpr V"
        "log.tag.GsmCdmaConn V"
        "log.tag.GsmCdmaPhone V"
        "log.tag.HardwarePropertiesManager V"
        "log.tag.HardwareService V"
        "log.tag.IAudioFlinger V"
        "log.tag.IMSRILRequest V"
        "log.tag.IMS_RILA V"
        "log.tag.IccCardProxy V"
        "log.tag.IccPhoneBookIM V"
        "log.tag.IccProvider V"
        "log.tag.ImsApp V"
        "log.tag.ImsBaseCommands V"
        "log.tag.ImsCall V"
        "log.tag.ImsCallProfile V"
        "log.tag.ImsCallSession V"
        "log.tag.ImsEcbm V"
        "log.tag.ImsEcbmProxy V"
        "log.tag.ImsManager V"
        "log.tag.ImsPhone V"
        "log.tag.ImsPhoneBase V"
        "log.tag.ImsPhoneCall V"
        "log.tag.ImsService V"
        "log.tag.ImsVTProvider V"
        "log.tag.InputDispatcher V"
        "log.tag.InputManager V"
        "log.tag.InputManagerService V"
        "log.tag.InputMethodManager V"
        "log.tag.InputMethodManagerService V"
        "log.tag.InterfaceManager V"
        "log.tag.IsimFileHandler V"
        "log.tag.IsimRecords V"
        "log.tag.JobScheduler V"
        "log.tag.KeyguardManager V"
        "log.tag.LCM-Subscriber V"
        "log.tag.LIBC2K_RIL V"
        "log.tag.LocationManager V"
        "log.tag.LocationManagerService V"
    )
    for commands in "${disable_log[@]}"; do
    IFS=' ' read -r name value <<< "$commands"
    setprop "$name" "$value"
done
setprop debug.min.fling_velocity 25000
setprop debug.max.fling_velocity 25000
settings put secure pointer_speed 7
settings put system touch_slop 8
settings put system peak_refresh_rate "$refresh_rate"
settings put system max_refresh_rate "$refresh_rate"
settings put system min_refresh_rate "$refresh_rate"
settings put system miui_refresh_rate "$refresh_rate"
settings put global low_power 0
setprop debug.hwui.renderer skiagl
setprop debug.gpu.renderer skiagl
cmd package compile -m speed-profile -f com.android.systemui
cmd package compile -m speed-profile -f com.dts.freefiremax
cmd package compile -m speed-profile -f com.dts.freefireth
am kill-all
cmd activity kill-all
}> /dev/null 2>&1
echo ""
echo "[✔] All modules executed – Optimization Complete!"
apply_fps
tweaks